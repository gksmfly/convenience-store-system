# PROMPT.md

> 과제 지침에 맞춰 **중요한 프롬프트만** 선별해 기록했습니다.
> 각 프롬프트는 그대로 복사해 사용 가능하며, 뒤에 *작성 이유*를 간단히 덧붙였습니다.

---

## Phase 1: 기본 시스템 구축 (모델링 및 기본 구조)

### Prompt 1 — 도메인 모델 & 아키텍처 스케치
**Prompt**  
“24시간 학교 편의점 재고 시스템 요구사항을 기준으로 `Product`, `Stock`, `Sale`(또는 `SalesRecord`)의 **데이터 모델**을 정의하고, 콘솔 기반 애플리케이션을 위한 **계층 구조**(Repository / Service / UI)와 **패키지 구성**을 제안해줘.  
제약: Kotlin 2.2(JVM 24), Gradle 8.x, 외부 라이브러리 최소화.  
산출물: (1) 클래스 시그니처(프로퍼티 타입 포함), (2) 파일 디렉터리 구조 등”

**작성 이유**  
Phase 1의 핵심 목표인 **기본 데이터 모델과 뼈대**를 빠르게 확정하기 위해 사용.

##

### Prompt 2 — 프로젝트 템플릿 & CLI 메뉴 루프
**Prompt**  
“Kotlin/JVM(Gradle) 콘솔 앱 **템플릿**을 생성하고, 파일/폴더 구조와 `main()`이 들어있는 시작점(`App.kt`) 예시를 제안해줘. `ConsoleApp` 클래스에서 **CLI 메뉴 루프**(리포트/판매/입고/추가/수정/검색/종료)를 스텁 메서드로 연결하는 코드 스니펫을 작성해줘.”

**작성 이유**  
최소 실행 가능한 환경(MVP)을 즉시 띄워 **모델이 실제 돌도록 검증**하려고 사용.

##

### Prompt 3 — 텍스트 다이어그램(ERD/상태)
**Prompt**  
“`Product`, `Stock`, `Sale` 간의 관계를 **텍스트 ERD**(아스키)로 그리고, 재고 상태(OK/LOW/OUT_OF_STOCK)의 **상태 전이**(판매, 입고, 임계치 변화)를 간단한 상태도로 제시해줘.”

**작성 이유**  
구현 전에 **관계/상태**를 시각화하여 혼선을 줄이고 경계조건을 명확히 하기 위함.

##

### Prompt 4 — 샘플 데이터 & 초기화 코드
**Prompt**  
“테스트용 **샘플 상품 12종**(카테고리/가격/적정재고/초기재고/유통기한 포함)을 생성하는 Kotlin 코드와, 앱 시작 시 `Repository`에 로드하는 **초기화 코드**를 작성해줘. 유통기한이 있는/없는 상품이 섞이도록 해줘.”

**작성 이유**  
메뉴 흐름과 리포트를 **현실 데이터로 바로 확인**하기 위함.

---

## Phase 2: 스마트 분석 기능 추가 (기능 확장 및 로직 구현)

### Prompt 1 — D-Day 할인 테스트 (GWT)
**Prompt**  
“유통기한 **D-3/2/1/0** 규칙(3:0%, 2:30%, 1:50%, 0:70%)과 **수동 할인 우선 적용** 규칙을 대상으로, 정상/경계/예외 케이스를 **GWT( Given-When-Then ) 스타일**로 나열해줘. 각 케이스는 *입력(가격/만료일/수동할인?)* → *기대 할인율/최종가* 형식으로.”

**작성 이유**  
복잡한 경계값 오류를 사전 차단하고, **테스트 퍼스트**로 구현 정확도를 높이려 사용.

##

### Prompt 2 — 재고 경고 임계치 & 엣지케이스
**Prompt**  
“임계 재고율(기본 30%)을 기준으로 `STOCK_OK/LOW/OUT_OF_STOCK`를 판별하는 로직의 **엣지케이스 목록**을 작성해줘. (예: 적정재고=0, 현재재고=0, 소수점 반올림, 음수 입력 방지 등) 각 항목에 대한 **권장 방어 로직**도 제안해줘.”

**작성 이유**  
운영상 중요한 **알림 품질**을 담보하기 위해 사전 위험군을 정의.

##

### Prompt 3 — 경영 분석 리포트 산출식
**Prompt**  
“일/주간 매출, 베스트셀러 TOP5, 재고 회전율 상/하위, 과다 재고, 발주 권장 수량 등 **리포트 지표의 계산식**과 **자료 흐름(입력→계산→출력)**을 표로 정리하고, 각 지표에 해당하는 Kotlin **함수 시그니처**와 **예시 출력 포맷**을 제안해줘.”

**작성 이유**  
리포트의 **공식과 책임 분리**를 명확히 하여 구현/리뷰를 용이하게 하기 위함.

##

### Prompt 4 — CSV I/O 유틸 & 예외 방어
**Prompt**  
“상품/판매 CSV **로드/세이브 유틸**의 입·출력 포맷을 정의하고, **깨진 행/컬럼 불일치/잘못된 날짜·숫자** 등에 대한 **예외 처리/스킵/로깅 정책**을 제안해줘. Kotlin 표준 라이브러리 중심, 외부 라이브러리 최소화.”

**작성 이유**  
대량 데이터 테스트 중 발생 가능한 **입출력 오류로부터 안정성 확보**를 위해 사용.

---

## Phase 3: 확장 가능한 구조 설계 (문서화 및 배포)

### Prompt 1 — 정책을 인터페이스로 분리(Strategy)
**Prompt**  
“할인 정책(`DiscountPolicy`), 발주 권장 계산(`ReorderPolicy`), 임계치 판단(`StockPolicy`)을 **인터페이스/전략 패턴**으로 분리한 아키텍처를 스케치해줘. **의존성 주입 방식**(생성자/팩토리), 기본 구현체, 교체 시나리오 예를 들어줘.”

**작성 이유**  
매장별 정책 차이를 **코드 수정 없이 교체**할 수 있도록 확장성 확보.

##

### Prompt 2 — Fat-Jar(shadow) 빌드 설정
**Prompt**  
“`application` + `shadow` 플러그인 조합으로 **fat-jar**를 만드는 `build.gradle.kts` 설정과 커맨드를 알려줘. `Main-Class=store.AppKt`, 산출물 파일명 규칙, 실행 예시까지 제공해줘.”

**작성 이유**  
과제 요구인 **단일 JAR 실행**을 완벽히 만족시키기 위해 사용.

##

### Prompt 3 — 설정 외부화 & 운영 모드
**Prompt**  
“임계치/할인율/리포트 옵션을 **환경변수/프로퍼티 파일**로 외부화하는 설계를 제안해줘. (기본값, 유효성, 로드 우선순위, 테스트 모드/운영 모드 분기)”

**작성 이유**  
배포 이후 **운영 환경에서 변경**이 잦은 값을 코드 수정 없이 조정하려고 사용.

---

## 참고 링크
- [README](./README.md) · [PROMPT](./PROMPT.md)
